<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head></head><body>






















<div class="WordSection1">

<p class="MsoNormal" align="center" style="text-align:center;"><b><span style="font-size:18.0pt;color:#009900;">E-A 001 – August-September 2022</span></b><span></span></p>

<p align="center" style="text-align:center;"><b><span style="font-size:18.0pt;color:#990000;">Homework 1 (Due back online by 11:59pm IST on Thursday, Sept 8)</span></b></p>

<p><b><i><span style="font-size:13.5pt;color:navy;">Total points = 47.</span></i></b></p>

<p><b>Q. 1 </b>Match the features in the left column with the abstraction level
from the right column whose <br/>
language may contain that feature. <br/>
<b>(6 points)</b> </p>

<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Solving quadratic equations<span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Operating
system level<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Design of control
unit&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Instruction
set architecture<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Design of an <span class="SpellE">adder</span>.<span>&#160;&#160;&#160;
</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Assembly language level<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
System calls<span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span class="GramE"><span>&#160; </span>Algorithm</span> level<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Assembler directives<span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span><span>&#160;&#160;&#160;&#160;&#160;&#160;
</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Digital logic level&#160; <br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Format of machine
code&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Micro-architecture
level</p>

<p><br/>
<b>Q. 2</b> Answer true or false: <br/>
(a) If the earliest point that the branch target is known in the MIPS pipeline
is the <span class="GramE">EX stage</span>, then a two cycle branch penalty
results.<br/>
(b) The python interpreter is compiled. <br/>
(c) Direct execution uses a Read-Only-Memory (ROM), but it is faster than that
used in Microprogramming.<br/>
(d) Unconditional jumps need branch prediction. <br/>
(e) In RISC ISAs, only load and store instructions access data memory.<br/>
(f) Assembly language explicitly lists the types of symbols declared in it.<br/>
(g) The loader reads a machine code file from disk to memory, resolves DLLs,
and transfers control to it.<br/>
(h) An ALU is an example of a sequential circuit.<br/>
(<span class="SpellE">i</span>)&#160; In the MIPS pipeline, the WB stage writes
to registers only in the second half of its cycle.<br/>
(j) Latches between stages in pipelines contain the results of the previous
stage, as well as the IREG of the instruction in that stage.<br/>
<b>(10 points).</b></p>

<p class="MsoNoSpacing"><br/>
<b>Q. 3. </b><span>&#160;</span><b><span>&#160;</span></b>Consider a pipelined processor than can
issue up to one instruction per cycle.&#160; For a certain program, 12% of its
instructions are control transfer instructions. There is a history-based branch
predictor, based on a branch target buffer, exactly as described in the
lectures. The branch prediction accuracy of this program is 94%, and the branch
penalty is 2 cycles. Assume that there no other pipeline bubbles, other than
those from <span class="SpellE">mispredicted</span> branches.</p>

<p class="MsoNoSpacing"><b>(3 + 3 = 6 points)</b></p>

<p style="margin-left:.5in;text-indent:-.25in;"><span><span>(a)<span style="font:7.0pt &quot;Times New Roman&quot;;">&#160;&#160; </span></span></span>What
percentage faster would this program run if the branch penalty was 1 cycle
instead of 2 cycles?</p>

<p style="margin-left:.5in;text-indent:-.25in;"><span><span>(b)<span style="font:7.0pt &quot;Times New Roman&quot;;">&#160; </span></span></span>If
the pipeline was 25 stages deep. with a branch penalty of 10 cycles, with
everything else remaining the same, what percentage faster would program run if
the branch penalty were reduced to 5 cycles?</p>

<p style="margin-left:.5in;">&#160;</p>

<p class="MsoNoSpacing"><b>Q. 4</b> A 5-&#173;stage single pipeline computer uses the
pipeline mentioned in the lecture. Unlike what was discussed in class, it
resolves conditional branch instruction at the end of its third pipeline stage
(EX), instead of the second stage (DE). A branch is said to be resolved at a
certain stage if its direction and target are both computed by that stage.</p>

<p class="MsoNoSpacing"><b>(3 + 3 = 6 points)</b></p>

<p style="margin-left:.5in;text-indent:-.25in;"><span><span>(a)<span style="font:7.0pt &quot;Times New Roman&quot;;">&#160;&#160; </span></span></span>What
is the most likely action(s) that would need to be moved to the 3<sup>rd</sup>
stage from the 2<sup>nd</sup> stage, that would cause this change from the
lectures?</p>

<p style="margin-left:.5in;text-indent:-.25in;"><span><span>(b)<span style="font:7.0pt &quot;Times New Roman&quot;;">&#160; </span></span></span>Why
might a hardware designer choose to design a pipeline where branches are
resolved in the third stage instead of second? In other words, what harm might
come from resolving branches earlier in the second stage?</p>

<p class="MsoNormal"><b><span>Q. 5.</span></b><span>&#160; Suppose you have a
non-pipelined MIPS computer where every instruction takes five cycles to
execute.&#160; You run the following program on the machine where the initial
values of R3 and R4 are 140 and 0 respectively.<br/>
<b>(2+2+2+5+3+2+2+1 = 19 points).</b></span></p>

<blockquote style="margin-top:5.0pt;margin-bottom:5.0pt;">

<blockquote style="margin-top:5.0pt;margin-bottom:5.0pt;">

<p class="MsoNoSpacing">_loop:<span>&#160; </span>LW<span>&#160;&#160;&#160;&#160;&#160; </span>$5, 0($3)<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ADD<span>&#160;&#160; </span>$4, $4, $5<span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span></p>

<p class="MsoNoSpacing"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>SUBI<span>&#160;&#160; </span>$3, $3, 4&#160;</p>

<p class="MsoNoSpacing"><span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; </span>SGTI <span>&#160; </span>$6, $3, 100<span>&#160;&#160;&#160;&#160;&#160; </span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
<br/>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="GramE">BNEZ&#160;&#160;$</span>6, _loop&#160;&#160;
&#160;&#160;&#160;&#160;&#160;</p>

</blockquote>

</blockquote>

<p class="MsoNormal"><b><span>a.&#160; </span></b><span>What does this program fragment
do? (1-2 sentences)</span></p>

<p class="MsoNormal"><b><span>b.&#160;</span></b><span> How many iterations does this
loop execute before it exits?&#160; One iteration is defined as executing all
the instructions in the loop once.</span></p>

<p class="MsoNormal"><b><span>c.</span></b><span>&#160; How many cycles will it
take to execute the code fragment on this non-pipelined machine?</span></p>

<p class="MsoNormal"><i><span>For parts </span></i><b><span>d.</span></b><i><span> to </span></i><b><span>f.</span></b><i><span> suppose this machine is
pipelined into five stages (Fetch, Decode, Execute, Memory, and
Writeback).&#160; Each stage takes one cycle to complete.&#160; The machine has
no bypass paths and hence all data hazards are resolved by stalling.&#160; In
addition, the machine has no branch prediction or delay slots, so by default
after CTIs, the next instructions in program order (PC+4 onwards) are executed.
If a branch misprediction is found, instructions in the wrong path are killed,
so the correct instruction is delayed (this is not called a stall, but is
called a delay).&#160; Branch conditions are evaluated when the branch
instruction reaches the execute stage.</span></i><span></span></p>

<p class="MsoNormal"><b><span>d. </span></b><span>&#160;Show how many cycles each
instruction must stall, or is delayed, because it has a hazard with some
previous instruction by completing the following table.&#160; If an instruction
B is data or control dependent on an earlier instruction A, then count the
stall or delay for B, not for A. If an instruction Y is stalled because some
earlier instruction X is also stalled then do <b>not</b> count that as a stall
for Y.&#160; In the last column write either &quot;data&quot; or
&quot;control&quot; for each instruction that stalls, depending on the type of
the hazard which caused it to stall (<b>not</b> what type it causes!).&#160; If
the number of stall cycles is not the same in each iteration, show the common
case.</span></p>

<div align="center">

<table class="MsoNormalTable" border="1" cellspacing="0" cellpadding="0" width="66%" style="width:66.0%;border-collapse:collapse;border:none;">
 <tr>
  <td width="38%" style="width:38.0%;border:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><b><span>Instruction</span></b><span></span></p>
  </td>
  <td width="30%" style="width:30.0%;border:inset #111111 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><b><span>Number
  of stall/delayed cycles (max across iterations)</span></b><span></span></p>
  </td>
  <td width="32%" style="width:32.0%;border:inset #111111 1.0pt;border-left:
  none;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><b><span>Type
  of hazard (if stall/delay is non-zero)</span></b><span></span></p>
  </td>
 </tr>
 <tr>
  <td width="38%" style="width:38.0%;border:inset #111111 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;">
  <p class="MsoNormal">LW<span>&#160;&#160;&#160;&#160;&#160; </span>$5, 0($3)<span></span></p>
  </td>
  <td width="30%" style="width:30.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
  <td width="32%" style="width:32.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
 </tr>
 <tr>
  <td width="38%" style="width:38.0%;border:inset #111111 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;">
  <p class="MsoNormal">ADD<span>&#160;&#160; </span>$4, $4, $5<span></span></p>
  </td>
  <td width="30%" style="width:30.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
  <td width="32%" style="width:32.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
 </tr>
 <tr>
  <td width="38%" style="width:38.0%;border:inset #111111 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;">
  <p class="MsoNormal"><span>SUBI&#160;&#160;&#160;</span>$<span>3,
  </span>$<span>3, 4&#160;</span></p>
  </td>
  <td width="30%" style="width:30.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
  <td width="32%" style="width:32.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
 </tr>
 <tr>
  <td width="38%" style="width:38.0%;border:inset #111111 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;">
  <p class="MsoNormal">SGTI <span>&#160; </span>$6, $3, 100<span></span></p>
  </td>
  <td width="30%" style="width:30.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
  <td width="32%" style="width:32.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
 </tr>
 <tr>
  <td width="38%" style="width:38.0%;border:inset #111111 1.0pt;border-top:
  none;padding:0in 0in 0in 0in;">
  <p class="MsoNormal">BNEZ&#160;&#160;$6, _loop<span></span></p>
  </td>
  <td width="30%" style="width:30.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
  <td width="32%" style="width:32.0%;border-top:none;border-left:none;border-bottom:inset #111111 1.0pt;border-right:inset #111111 1.0pt;padding:0in 0in 0in 0in;">
  <p class="MsoNormal" align="center" style="text-align:center;"><span>&#160;</span></p>
  </td>
 </tr>
</table>

</div>

<p class="MsoNormal"><b><span>e.</span></b><span> How many cycles does the
program fragment take to execute on this pipelined processor?&#160; Take care
that not all iterations require an equal number cycles to execute.&#160; The
number of cycles for a code fragment on a pipelined processor is defined as the
difference between the fetch cycle number of the first instruction after the
fragment and the fetch cycle number of the first instruction in the
fragment.&#160; Also consider the extra cycles after loop exit before an
instruction can be fetched.</span></p>

<p class="MsoNormal"><b><span>f. </span></b><span>What would have been the speedup
on a hypothetical ideal pipeline that had no stalls vs. a non-pipelined
machine?&#160; What is the actual speedup for the real pipeline with stalls vs
a non-pipelined machine?</span></p>

<p class="MsoNormal"><i><span>For parts </span></i><b><span>g.</span></b><i><span> to </span></i><b><span>h.</span></b><i><span>&#160; assume that the machine
has resolved data hazards using data forwarding along all possible bypass paths.&#160;
(Caution: not all bypass paths may eliminate stalls) Further suppose a
history-based branch target buffer is used, which predicts each branch to have
the same target it had in the most recent previous time it executed. When the
prediction is correct, no stall is needed; but when it is incorrect,
instructions in the pipeline along the mis-predicted path are quashed and then
the correct subsequent instructions are fetched into the pipeline. Assume the
BNEZ is not present in the branch target buffer when the loop is entered.
Branch conditions are evaluated when the branch instruction reaches the execute
stage.</span></i><span></span></p>

<p class="MsoNormal"><b><span>g.</span></b><span>&#160; How many cycles does the
program take to execute on this improved pipeline?&#160; As before, take care
that not all iterations may take an equal number cycles to execute.</span></p>

<p class="MsoNormal"><b><span>h. </span></b><span>What is the speedup for this
improved real pipeline vs a non-pipelined machine on this code?</span></p>

<blockquote style="margin-top:5.0pt;margin-bottom:5.0pt;">

<p class="MsoNormal"><span>&#160;</span></p>

</blockquote>

</div>




<script type="module" src="https://s.brightspace.com/lib/bsi/20.22.9-241/unbundled/mathjax.js"></script><script type="text/javascript">document.addEventListener('DOMContentLoaded', function() {
					if (document.querySelector('math') || /\$\$|\\\(|\\\[|\\begin{|\\ref{|\\eqref{/.test(document.body.innerHTML)) {
						document.querySelectorAll('mspace[linebreak="newline"]').forEach(elm => {
							elm.setAttribute('style', 'display: block; height: 0.5rem;');
						});

						window.D2L.MathJax.loadMathJax({
							'outputScale': 1.3,
							'renderLatex': true
						});
					}
				});</script><script type="module" src="https://s.brightspace.com/lib/bsi/20.22.9-241/unbundled/prism.js"></script><script type="text/javascript">document.addEventListener('DOMContentLoaded', function() {
					document.querySelectorAll('.d2l-code').forEach(code => {
						window.D2L.Prism.formatCodeElement(code);
					});
				});</script></body></html>